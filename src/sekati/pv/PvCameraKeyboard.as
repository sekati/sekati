/** * sekati.pv.PvCameraKeyboard * @version 1.0.0 * @author jason m horwitz | sekati.com * Copyright (C) 2008  jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package sekati.pv {	import sekati.pv.PaperBase;	import flash.events.KeyboardEvent;	import org.papervision3d.cameras.FreeCamera3D;	import org.papervision3d.objects.primitives.Plane;	import org.papervision3d.materials.BitmapFileMaterial;	/**	 * PrimativeCone	 */	public class PvCameraKeyboard extends PaperBase {		public var wdown : Boolean = false;		public var adown : Boolean = false;		public var sdown : Boolean = false;		public var ddown : Boolean = false;		public var camera : FreeCamera3D;		/**		 * Constructor		 */		public function PvCameraKeyboard() {			super( );			init( );			stage.addEventListener( KeyboardEvent.KEY_DOWN, _onKeyDown );			stage.addEventListener( KeyboardEvent.KEY_UP, _onKeyUp );		}		public function _onKeyDown( event : KeyboardEvent ) : void {			// The keycodes for the W,A,S &amp; D keys are:			// W: 87			// A: 65			// S: 83			// D: 68			// -------			switch(event.keyCode) {				case 87:					wdown = true;					break;				case 65:					adown = true;					break;				case 83:					sdown = true;					break;				case 68:					ddown = true;					break;			}		}		public function _onKeyUp( event : KeyboardEvent ) : void {			switch(event.keyCode) {				case 87:					wdown = false;					break;				case 65:					adown = false;					break;				case 83:					sdown = false;					break;				case 68:					ddown = false;					break;			}		}				override protected function init3d() : void {			camera = new FreeCamera3D( 1, 500 );			camera.moveUp( 400 );			_activeCamera = camera;			for (var x : Number = 0; x < 4 ; x++) {				for (var y : Number = 0; y < 4 ; y++) {					//var p : Plane = new Plane( new BitmapFileMaterial( "http://papervision2.com/wp-content/downloads/concretetex.jpg" ), 1000, 1000, 8, 8 );					var p : Plane = new Plane( new BitmapFileMaterial( "../deploy/assets/grass.jpg" ), 1000, 1000, 8, 8 );					p.pitch( 90 );					p.x = (x * 1000) - 2000;					p.z = (y * 1000) - 2000;					_activeScene.addChild( p );				}			}		}		override protected function processFrame() : void {			if (wdown) {				camera.moveForward( 60 );			}			if (sdown) {				camera.moveBackward( 60 );			}			if (adown) {				camera.yaw( -8 );			}			if (ddown) {				camera.yaw( 8 );			}		}					}}
/** * FlipTest * @version 1.0.0 * @author pj ahlberg * Copyright (C) 2009  pj ahlberg. All Rights Reserved. */package {	import mx.effects.Tween;			import sekati.display.Canvas;			import caurina.transitions.Tweener;	import flash.display.Bitmap;	import sekati.display.CoreSprite;	import sekati.display.InteractiveSprite;	import flash.events.MouseEvent;	import sekati.display.Document;	[SWF(width="1075", height="500", frameRate="31", backgroundColor="#000000")]	/**	 * FlipTest	 */	public class FlipTest extends Document {		protected var _rotationPlane : RotationPlane;		[Embed(source="../lib/assets/front.png")]		protected var _imageSourceFront : Class;				[Embed(source="../lib/assets/back.png")]		protected var _imageSourceBack : Class;				[Embed(source="../lib/assets/ch.jpg")]		protected var _imageSourceAlt : Class;				private var _flipped:Boolean = false;		private var _amnt:Number = 0;		private var _bitmapback : Bitmap;		private var _bitmapalt:Bitmap;				private var _frontSprite:CoreSprite;		private var _frontSpriteButton:InteractiveSprite;		public function FlipTest() {			super( );		}		override protected function initEntryPoint() : void {			super.initEntryPoint( );						Canvas.stage.addEventListener(MouseEvent.MOUSE_DOWN, stageHit);						attachPlane( );		}		protected function attachPlane() : void {			_frontSprite = new CoreSprite();			_frontSprite.graphics.beginFill(0x00FF00);			_frontSprite.graphics.drawRect(0, 0, 500, 300);			_frontSprite.graphics.endFill();						_frontSpriteButton = new InteractiveSprite();			_frontSpriteButton.graphics.beginFill(0xFF0000);			_frontSpriteButton.graphics.drawRect(0, 0, 50, 50);			_frontSpriteButton.graphics.endFill();			_frontSpriteButton.alpha = .5;						_frontSprite.addChild(_frontSpriteButton);			_frontSpriteButton.x = 250-(50/2);			_frontSpriteButton.y = 150-(50/2);			_frontSpriteButton.addEventListener(MouseEvent.MOUSE_OVER, buttonOver);			_frontSpriteButton.addEventListener(MouseEvent.MOUSE_OUT, buttonOut);												var bitmapfront : Bitmap = Bitmap( new _imageSourceFront( ) );			_bitmapback = Bitmap( new _imageSourceBack( ) );			_bitmapalt = Bitmap( new _imageSourceAlt( ) );									_rotationPlane = new RotationPlane( _frontSprite, _bitmapalt, 5, 5, true );			_rotationPlane.x = _rotationPlane.y = 200;			_rotationPlane.reversePlaneAlwaysOn = false;								addChild( _rotationPlane );			 		}				protected function stageHit(e:MouseEvent):void		{			_amnt +=180;			Tweener.addTween(_rotationPlane, {rotationY:_amnt, time:1.5, transition:"easeoutexpo"});				}				protected function buttonOver(e:MouseEvent):void {			Tweener.addTween(_frontSpriteButton, {scaleY:1.1, scaleX:1.1, alpha:1});					}				protected function buttonOut(e:MouseEvent):void		{			Tweener.addTween(_frontSpriteButton, {scaleY:1, scaleX:1, alpha:.5});					}				protected function swapimg():void		{						if(!_flipped){				_flipped = true;				_rotationPlane.material1 = _bitmapalt;			}else{				_flipped = false;				_rotationPlane.material1 = _bitmapback;			}					}	}}
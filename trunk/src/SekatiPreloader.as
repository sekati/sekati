/** * SekatiPreloader * @version 1.1.0 * @author jason m horwitz | sekati.com * Copyright (C) 2009  jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package {	import sekati.display.DocumentPreloader;	import sekati.draw.Rect;	import flash.events.Event;	import flash.events.ProgressEvent;			/**	 * SekatiPreloader	 */	public class SekatiPreloader extends DocumentPreloader {		public var bg : Rect;		public var bar : Rect;		/**		 * SekatiPreloader Constructor		 */		public function SekatiPreloader() {			super( );		}		/**		 * @inheritDoc		 */		override protected function initPreloader(e : Event = null) : void {			super.initPreloader( );			// @see http://hubflanger.com/stage-resize-and-the-stagewidth-and-stageheight-properties/			bg = new Rect( 100, 100, 0, 0, 0, 0 );			bar = new Rect( 500, 5, 0, 0, 0, 0xff00ff );			bar.scaleX = 0;			addChild( bg );			addChild( bar );		}		/*		private function enterFrame(e : Event) : void {		bar.scaleX += Math.min( (bytesLoaded / bytesTotal) - bar.scaleX, 0.01 );		trace(bar.scaleX);		if(bar.scaleX >= 1) {		removeEventListener( Event.ENTER_FRAME, enterFrame );		//initApplication( );		super.initApplication( );		}		}		 */		/**		 * @inheritDoc		 */		override protected function initApplication(e : Event = null) : void {			removeChild( bg );			removeChild( bar );			super.initApplication( e );			trace( "The API Application SWF loaded & initialized successfully: Goodbye World!" );		}		override protected function progress(e : ProgressEvent) : void {			super.progress( e );			bar.scaleX = percent;		}		/**		 * @inheritDoc		 */		override protected function resize(e : Event = null) : void {			bg.width = stage.stageWidth;			bg.height = stage.stageHeight;			bar.x = int( stage.stageWidth / 2 - 500 / 2 );			bar.y = int( stage.stageHeight / 2 - bar.height / 2 );		}	}}
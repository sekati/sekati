/** * sekati.net.NetBase * @version 1.0.0 * @author jason m horwitz | sekati.com | tendercreative.com * Copyright (C) 2008 jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package sekati.net {	import flash.display.LoaderInfo;	import flash.external.ExternalInterface;	import sekati.display.Canvas;	import sekati.validators.StringValidation;		/**	 * Static class wrapping various Network utilities.	 */	public class NetBase {		/**		 * return the URL Path swf is running under		 * @return String		 * <code>Usage:<br/>		 * 	// run from http://localhost/myProject/site.swf<br>		 * 	trace(NetBase.getPath()); // returns "http://localhost/myProject/"<br/></code>		 */		public static function getPath() : String {			var _url : String = Canvas.root.loaderInfo.loaderURL;			return( _url.substr( 0, _url.lastIndexOf( '/' ) + 1 ) );		}		/**		 * check if we are online the swf is being executed over http.		 * @return Boolean		 */		public static function isOnline() : Boolean {			var _url : String = Canvas.root.loaderInfo.loaderURL;			return StringValidation.isURL( _url );		}		/**		 * add a cache killing querystring to url		 * @param url (String)		 * @return String		 * <code>Usage:<br/>		 * 	var ckUrl = NetBase.noCacheUrl("http://localhost/page.html"); // returns: http://localhost/page.html?030533<br/></code>		 */		public static function noCacheUrl(url : String) : String {			return url + "?" + new Date( ).getTime( );			}		public static function getHtmlUrl() : String {			return ExternalInterface.call( 'function(){return location.href}' );			}		/**		 * NetBase Static Constructor		 */		public function NetBase() {			throw new Error( "NetBase is a static class and cannot be instantiated." );		}	}}
/* ------------------------------------------------------------------ *  ____    ____    __  __   ______  ______  ______      * /\  _`\ /\  _`\ /\ \/\ \ /\  _  \/\__  _\/\__  _\     * \ \,\L\_\ \ \L\_\ \ \/'/'\ \ \L\ \/_/\ \/\/_/\ \/     *  \/_\__ \\ \  _\L\ \ , <  \ \  __ \ \ \ \   \ \ \     *    /\ \L\ \ \ \L\ \ \ \\`\ \ \ \/\ \ \ \ \   \_\ \__  *    \ `\____\ \____/\ \_\ \_\\ \_\ \_\ \ \_\  /\_____\ *     \/_____/\/___/  \/_/\/_/ \/_/\/_/  \/_/  \/_____/                                                      *  ______  ____    ______      * /\  _  \/\  _`\ /\__  _\    * \ \ \L\ \ \ \L\ \/_/\ \/            *  \ \  __ \ \ ,__/  \ \ \          *   \ \ \/\ \ \ \/    \_\ \__           *    \ \_\ \_\ \_\    /\_____\          http://sekati.googlecode.com  *     \/_/\/_/\/_/    \/_____/           * ------------------------------------------------------------------ * Copyright (c) 2008 jason m horwitz, Sekat LLC. All Rights Reserved. *  ------------------------------------------------------------------ * Permission is hereby granted, free of charge, to any person * obtaining a copy of this software and associated documentation * files (the "Software"), to deal in the Software without * restriction, including without limitation the rights to use, * copy, modify, merge, publish, distribute, sublicense, and/or sell * copies of the Software, and to permit persons to whom the * Software is furnished to do so, subject to the following * conditions: * * The above copyright notice and this permission notice shall be * included in all copies or substantial portions of the Software. * * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR * OTHER DEALINGS IN THE SOFTWARE.                                 *  ------------------------------------------------------------------  */ /** * sekati.Main * @version 1.0.9 * @author jason m horwitz | sekati.com | tendercreative.com * Copyright (C) 2008 jason m horwitz, Sekat LLC. All Rights Reserved. * Released under the MIT License: http://www.opensource.org/licenses/mit-license.php */package sekati.display {	import flash.system.Security;	import flash.system.System;	import flash.system.fscommand;	import caurina.transitions.properties.*;	import sekati.core.Bootstrap;	import sekati.display.Canvas;	import sekati.display.StageDisplay;	import sekati.external.JsBase;		/**	 * This is the main <code>Document Class</code> for 	 * Sekati API. Any application wishing to fully implement	 * the API should either use this class as the main 	 * <code>Document Class</code> or extend & override it as 	 * needed to make the necessary customizations.	 * 	 * @see sekati.core.Bootstrap	 * @see sekati.core.App	 * 	 * @see http://api.sekati.com/sekati	 * @see http://docs.sekati.com/sekati	 */	public class Document extends Canvas {		/**		 * Enables API name to be retrieved at runtime or when reverse engineering.		 */		public static const NAME : String = 'Sekati API';				/**		 * Enables API version to be retrieved at runtime or when reverse engineering.		 */		public static const VERSION : String = 'Public Alpha 3.0.0.6 - "Spring" | http://sekati.googlecode.com | http://api.sekati.com';				/**		 * Enables API version date to be retrieved at runtime or when reverse engineering.		 */		public static const DATE : String = '02.27.08';				/**		 * Enables API copyright information to be retrieved at runtime or when reverse engineering.		 */		static public const AUTHOR : String = 'Copyright (c) 2007-2008 jason m horwitz | sekati.com | Sekati LLC. All Rights Reserved.';						/**		 * Queued initialization routines.		 * @see sekati.core.Bootstrap		 */		protected var bootstrap : Bootstrap;		/**		 * Document Constructor initializes the application,		 * firing <code>setMovieProps</code> to set core		 * movie properties, <code>initTweenEngine</code>		 * to initialize <code>Tweener</code> properties,		 * and finally <code>buildCompositions</code> which		 * initializes bootstraps, managers and other core		 * application code.		 */		public function Document() {			trace( "*** - Canvas Initialized ..." );			super( );			setMovieProps( );			initTweenEngine( );			buildCompositions( );		}		/**		 * General movie setup		 * @return void		 */		protected function setMovieProps() : void {			trace( "*** Setting Movie Properties ..." );			Security.allowDomain( "*" );			Security.allowInsecureDomain( "*" );			fscommand( "swLiveConnect", "true" );			fscommand( "allowscale", "false" );			fscommand( "showmenu", "false" );			fscommand( "fullscreen", "false" );			StageDisplay.$.init( );		}		/**		 * Initialize Tweener specialProperties shortcuts		 * @note comment out shortcuts which your project does not require.		 * @see http://hosted.zeh.com.br/tweener/docs/en-us/		 * @return void		 */		protected function initTweenEngine() : void {			trace( "*** Initializing Tween Engine ..." );			FilterShortcuts.init( );			ColorShortcuts.init( );			DisplayShortcuts.init( );			TextShortcuts.init( );			SoundShortcuts.init( );								}		/**		 * Centralize class compositions for core functionalities (bootstraps, managers, etc)		 * @return void		 */			protected function buildCompositions() : void {			trace( "***  Building Compositions ..." );			bootstrap = new Bootstrap( );			var msg : String = "App debug:\n";			msg += "\nCONF_URI: " + Canvas.flashVars["conf_uri"];			msg += "\nCROSSDOMAIN_URI: " + Canvas.flashVars["crossdomain_uri"];			sekati.external.JsBase.alert( msg );			// mem test			var mem : String = Number( System.totalMemory / 1024 / 1024 ).toFixed( 2 ) + 'Mb';			trace( mem ); // eg traces "24.94Mb"		}	}}